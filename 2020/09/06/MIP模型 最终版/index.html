<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="电动汽车全日充电最优化的MIP建模介绍混合整数规划是变量中既含有连续变量也含有{0,1}整数变量的优化问题。这类问题是NP-hard问题，算法复杂度随着变量增加呈指数级增长。混合整数规划MIP的建模由三个要素组成：决策变量，约束条件，目标函数。数学上的表现形式如下  MIP问题的求解对模型的表达极其敏感，建模的复杂度取决了求解器能否找到解，以及求解所需的时间。一旦模型成功建立好后，将由整数规划求解">
<meta property="og:type" content="article">
<meta property="og:title" content="电动汽车充电最优化的MIP模型">
<meta property="og:url" content="https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="电动汽车全日充电最优化的MIP建模介绍混合整数规划是变量中既含有连续变量也含有{0,1}整数变量的优化问题。这类问题是NP-hard问题，算法复杂度随着变量增加呈指数级增长。混合整数规划MIP的建模由三个要素组成：决策变量，约束条件，目标函数。数学上的表现形式如下  MIP问题的求解对模型的表达极其敏感，建模的复杂度取决了求解器能否找到解，以及求解所需的时间。一旦模型成功建立好后，将由整数规划求解">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200827153256004.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200827152509808.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200828120241098.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200828121220206.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200828121426832.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200828121539178.png">
<meta property="og:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200828121600505.png">
<meta property="article:published_time" content="2020-09-06T09:23:29.995Z">
<meta property="article:modified_time" content="2020-09-06T09:23:29.995Z">
<meta property="article:author" content="Guangyi TANG">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/GTBA1C1N/AppData/Roaming/Typora/typora-user-images/image-20200827153256004.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>电动汽车充电最优化的MIP模型</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.1.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/projects_url">项目</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2020/09/06/hello-world/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&text=电动汽车充电最优化的MIP模型"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&is_video=false&description=电动汽车充电最优化的MIP模型"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=电动汽车充电最优化的MIP模型&body=Check out this article: https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&name=电动汽车充电最优化的MIP模型&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&t=电动汽车充电最优化的MIP模型"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%B5%E5%8A%A8%E6%B1%BD%E8%BD%A6%E5%85%A8%E6%97%A5%E5%85%85%E7%94%B5%E6%9C%80%E4%BC%98%E5%8C%96%E7%9A%84MIP%E5%BB%BA%E6%A8%A1"><span class="toc-number">1.</span> <span class="toc-text">电动汽车全日充电最优化的MIP建模</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B8%E5%85%B3%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">时间相关变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%85%E7%94%B5%E6%A1%A9%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.</span> <span class="toc-text">充电桩变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%B4%E5%A3%AB%E5%8F%98%E9%87%8F"><span class="toc-number">3.3.</span> <span class="toc-text">巴士变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B3%E7%AD%96%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">决策变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">约束条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">目标函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C"><span class="toc-number">6.</span> <span class="toc-text">结果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5"><span class="toc-number">7.</span> <span class="toc-text">下一步</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        电动汽车充电最优化的MIP模型
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Hexo</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-09-06T09:23:29.995Z" itemprop="datePublished">2020-09-06</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="电动汽车全日充电最优化的MIP建模"><a href="#电动汽车全日充电最优化的MIP建模" class="headerlink" title="电动汽车全日充电最优化的MIP建模"></a>电动汽车全日充电最优化的MIP建模</h2><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>混合整数规划是变量中既含有连续变量也含有{0,1}整数变量的优化问题。这类问题是NP-hard问题，算法复杂度随着变量增加呈指数级增长。混合整数规划MIP的建模由三个要素组成：<strong>决策变量，约束条件，目标函数</strong>。数学上的表现形式如下</p>
<p><img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200827153256004.png" alt="image-20200827153256004"></p>
<p>MIP问题的求解对模型的表达极其敏感，建模的复杂度取决了求解器能否找到解，以及求解所需的时间。一旦模型成功建立好后，将由整数规划求解器如(Cplex, Gurobi, SICP) 等使用<strong>分支界定法</strong>(branch and bound) 算法求解。分支界定法的本质是在树上对所有可能的状态<strong>搜索</strong>, 以及用上界和下界<strong>剪枝</strong>去掉不符合约束限制和目标函数值大于当前找到的最小值的状态起到加速作用。</p>
<p><img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200827152509808.png" alt="image-20200827152509808"></p>
<p>在该建模中，最终的优化目标是找到一个充电方案，使所有输入的汽车能够：</p>
<ol>
<li><p>满足汽车的运营需求</p>
</li>
<li><p>充电成本最低</p>
</li>
</ol>
<p>为此，模型的思路是：**限制充电的电量，使巴士在离站时的电量严格&gt; 30%**。因此如果巴士在一天的运营里电量都大于30%该巴士则不需充电；如果巴士电量有掉到30%以下的可能，程序会选择最便宜的时间段提前充最少的点使电量刚刚好大于30%。该模型对30辆巴士，24小时长的时间段能在10分钟内找到离最优解差3%以内的解。针对复杂情况85辆巴士，32小时长的时间段能在1小时50分钟找到离最优解差5%的可行解。</p>
<p>刘海东针对深圳巴士的建模是针对深圳巴士特定场景的，解决了深圳巴士从21点起夜间进站至次日7点离站10小时的<strong>单个时间段</strong>内，所有巴士如何将电池充满。而本建模在上述建模的基础上做出了改进，<strong>对变量进行了扩充并添加了约束条件</strong>，从而扩展到了32小时内巴士能多次进出的情况，在<strong>多个时间段</strong>里使得电池在每次出站时维持安全的电量SOC &gt; 30%。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="时间相关变量"><a href="#时间相关变量" class="headerlink" title="时间相关变量"></a><strong>时间相关变量</strong></h3><ul>
<li><p>T 记录从一日开始00:00 到次日早上08:00的L个时间段，一个时间段的粒度为5min。粒度的选择得在精度和求解速度上做权衡，5分钟的粒度是符合应用精度和计算速度要求的选择。</p>
<p>$$<br>\delta = 5min \<br>T = [0\ 1 … L-1]<br>$$</p>
</li>
<li><p>Z 每个时间段对应的电费</p>
<p> $$<br>Z = [z_0 \ z_1 … z_{L-1}]  \ z_i\in {0.23,0.67,1.02}<br>$$</p>
</li>
</ul>
<h3 id="充电桩变量"><a href="#充电桩变量" class="headerlink" title="充电桩变量"></a>充电桩变量</h3><ul>
<li><p>需要注意的是，值一样的对称变量会创造很多重复的状态，减速求解过程。比如，1号桩和2号桩的功率假设一样，巴士选择在1号充或是在2号充的目标函数值是一样的，但却产生了两种解。而在深圳巴士的充电桩中存在着大量充电功率一样的充电桩，因此为了减少对称解，我们将充电功率一样的桩聚合成一类，并将这一类下的桩记录下来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict_pile = &#123;power_1: [pileNum1,pileNum2],  .... ,power_n:[pileNumN]&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>C 总共有N类充电桩，每个充电桩的输出功率。单位为kW。充电过程假设为线性。</li>
</ul>
<p>  $$<br>  C = [power_1 \ power_2 … power_{N-1}]_N<br>  $$</p>
<h3 id="巴士变量"><a href="#巴士变量" class="headerlink" title="巴士变量"></a>巴士变量</h3><ul>
<li><p>X: 巴士的进站时间段，对应输入excel文件里的T_Arrival</p>
<p>Y: 巴士的出战时间段，对应输入excel文件里的T_Departure</p>
<p>PRP: Possible recharging period 表示巴士在站可以充电的时间段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X &#x3D; &#123;bus1:[x10, x11,...,x1k], ..., busM:[xM0...xMj]&#125;</span><br><span class="line">Y &#x3D; &#123;bus1:[y10, y11,...,y1k], ..., busM:[yM0...yMj]&#125;</span><br><span class="line">PRP &#x3D; &#123;bus1:[[x10,y10], ..., [x1k,y1k]],..., busM:[[xM0,yM0],...,[xMj,yMj]]&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>巴士电池容量及每公里耗电，目前简单地取了深圳巴士的数据，容量为常数260kWh，每公里耗电为1.1kWh/km。后续可能为其他巴士提供更复杂的输入。</p>
</li>
<li><p>Conso: 对应了excel输入文件里distance_run的消耗电量。为方便起见，只在进站的时间段计算上一段运营距离的耗电量，不在运营时计算实时的耗电量（不在站时的耗电量为0）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Conso &#x3D; &#123;bus1:[0 0 0 1.1*Distance_Run[0] ... 1.1] ... &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>alpha: 每辆汽车可以在站充电的时间段数目</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alpha &#x3D; &#123;bus1: len(PRP[bus1]), ..., busM:len(PRP[busM])&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="决策变量"><a href="#决策变量" class="headerlink" title="决策变量"></a>决策变量</h3><ul>
<li><p>B：表示巴士什么时候开始充电的变量。 巴士m总共有alpha[m]个可充电的时间段，m至多可以选择在一个可充时间段里充电1次，在这个可充时间段内m可以选择时间点t开始充电。这样保证了一辆车在一个可充时间段内可以固定连续的在1个充电桩上充电。</p>
<p>$$<br>B = [B_{tml}]<em>{alpha[m]<em>M</em>L} \<br>b</em>{tml} = 1  \    第m辆巴士连在它第l个在站时间段的第t个时间点上开始充电<br>$$</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B = [[[bcMdl.add_var(name=<span class="string">&quot;b,&#123;&#125;,&#123;&#125;,&#123;&#125;&quot;</span>.format(t, m, l), var_type=BINARY) <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m])] <span class="keyword">for</span> m <span class="keyword">in</span> range(M)] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>D: 表示巴士什么时候结束充电的变量。与B对应，一次充电开始必然对应一次充电结束。如果巴士m选择在一个可充时间段内充电，在这个可充时间段内必须有一个时间点巴士停止充电。<br>$$<br>D = [d_{tml}]<em>{alpha[m]<em>M</em>L} \<br>d</em>{tml} = 1  \    第m辆巴士连在它第l个在站时间段的第t个时间点上结束充电<br>$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D = [[[bcMdl.add_var(name=<span class="string">&quot;d,&#123;&#125;,&#123;&#125;,&#123;&#125;&quot;</span>.format(t, m, l), var_type=BINARY) <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m])] <span class="keyword">for</span> m <span class="keyword">in</span> range(M)] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)]</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
<li><p>P： 表示巴士和充电桩在某所有时间点上的连接状态。可以获得巴士和充电桩的匹配信息。重要的结果输出。<br>$$<br>P = [p_{ijk}]<em>{M<em>N</em>L} \<br>p</em>{ijk} = 1 在第k个时间段，第i辆巴士连在第j个充电桩上充电<br>$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">P = [[[bcMdl.add_var(name=<span class="string">&quot;p,&#123;&#125;,&#123;&#125;,&#123;&#125;&quot;</span>.format(t, n, m), var_type=BINARY)</span><br><span class="line">       <span class="keyword">for</span> m <span class="keyword">in</span> range(M)] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Q： 表示巴士在一个可充时间段内和充电桩的匹配状态。主要用于约束里限制巴士在一个小可充时间段里只能跟一个充电桩匹配，进而减少了对称解。<br>$$<br>Q = [p_{ijk}]<em>{M<em>N</em>alpha[m]} \<br>q</em>{ijk} = 1 第i辆巴士在它的第k个在站时间段连在第n个充电桩上充电<br>$$</p>
</li>
</ul>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Q = [[[bcMdl.add_var(name=<span class="string">&quot;q,&#123;&#125;,&#123;&#125;,&#123;&#125;&quot;</span>.format(n, m, l), var_type=BINARY) <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m])] <span class="keyword">for</span> m <span class="keyword">in</span> range(M)] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>SOC：表示每辆车在每个时间段上的电量。重要的结果输出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SoC = [[bcMdl.add_var(name=<span class="string">&quot;SoC,&#123;&#125;,&#123;&#125;&quot;</span>.format(t, m), var_type=CONTINUOUS) <span class="keyword">for</span> m <span class="keyword">in</span> range(M)] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)]</span><br></pre></td></tr></table></figure>





</li>
</ul>
<h2 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h2><ol>
<li><strong>巴士在一个在站时间段最多只能充电一次</strong> ：至多一次开始，一次结束<br>$$<br>\sum_{t}B_{tml} \leq 1  \  \ \forall m, l \<br>\sum_{t}D_{tml} \leq 1  \  \ \forall m, l \<br>$$</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.1 Each bus has at most one charge beginning time frame for each period</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m]):</span><br><span class="line">        bcMdl += xsum(B[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)) &lt;= <span class="number">1</span></span><br><span class="line"><span class="comment"># 3.2 Each bus has one and only one charge end time frame</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m]):</span><br><span class="line">        bcMdl += xsum(D[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> range(L)) &lt;= <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="2">
<li><p><strong>巴士在一个在站时间段里只能选择跟一个充电桩匹配充电</strong> </p>
<p>如果在这个时间段Q对所有桩的和是0，巴士在这个时间段不充电，在这个时间段内P的和也应为0.</p>
<p>否则，Q对所有桩的和是1，巴士跟一个桩充电，P在这个时间段内的和应不超过5分钟粒度的个数<br>$$<br>\sum_{n}Q_{mnl} \leq 1  \  \forall m,l \<br>\sum_{t \in PRP[m][l]} P_{tmn} \leq Q_{nml}\times len(PRP[m][l])   \    \forall m,n,l<br>$$</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.3 Each bus uses one and only one pile within the optimization target time period</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(alpha[m]):</span><br><span class="line">        bcMdl += xsum(Q[n][m][l] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) &lt;= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> (n, m) <span class="keyword">in</span> product(range(N), range(M)):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(len(PRP[m])):</span><br><span class="line">        bcMdl += xsum(P[t][n][m] <span class="keyword">for</span> t <span class="keyword">in</span> PRP[m][l]) &lt;= len(PRP[m][l]) * Q[n][m][l]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>每类桩在一个时间点上不能充超出桩数目的车</strong><br>$$<br>\sum_{m}P_{tnm} \leq Nb_{pileCluster[n]}  \  \forall t,n \<br>\sum_{n}P_{tnm} \leq Nb_{pileCluster[n]}  \  \forall t,m \<br>$$</li>
</ol>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.4 Each pile cluster charges at most buses with the maximum nb of piles of the same power.</span></span><br><span class="line"><span class="keyword">for</span> (t, n) <span class="keyword">in</span> product(range(L), range(N)):</span><br><span class="line">    bcMdl += xsum(P[t][n][m] <span class="keyword">for</span> m <span class="keyword">in</span> range(M)) &lt;= len(dict_pile[C[n]])</span><br><span class="line">   </span><br><span class="line"><span class="keyword">for</span> (t, m) <span class="keyword">in</span> product(range(L), range(M)):</span><br><span class="line">    bcMdl += xsum(P[t][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) &lt;= len(dict_pile[C[n]])</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p><strong>巴士开始充电的时间应晚于进站时间，结束充电的时间应早于出站时间且晚于开始充电的时间</strong></p>
<p>通过t乘以B或D可以得到巴士开始/结束充电的时间点<br>$$<br>\sum_{t \in PRP[m][l]}tB_{tml} \geq X[m][l]  \ \forall m,l \<br>\sum_{t \in PRP[m][l]}tD_{tml} \leq Y[m][l]  \ \forall m,l \<br>\sum_{t \in PRP[m][l]}tD_{tml} \geq \sum_{t \in PRP[m][l]}tB_{tml}  \ \forall m,l \<br>$$</p>
</li>
</ol>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.5 Charge start time is later than enter station time for each bus</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(len(PRP[m])):</span><br><span class="line">        bcMdl += xsum(t * B[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> PRP[m][l]) &gt;= int(X[m][l])</span><br><span class="line">   </span><br><span class="line"><span class="comment"># 3.6 Charge stop time is not earlier than charge start time for each bus</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(len(PRP[m])):</span><br><span class="line">        bcMdl += xsum(t * D[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> PRP[m][l]) &gt;= xsum(t * B[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> PRP[m][l])</span><br><span class="line">   </span><br><span class="line"><span class="comment"># 3.7 Exit station time is later than charge stop time for each bus</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(len(PRP[m])):</span><br><span class="line">        bcMdl += xsum(t * D[t][m][l] <span class="keyword">for</span> t <span class="keyword">in</span> PRP[m][l]) &lt;= int(Y[m][l])</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p><strong>SOC应在[0%,100%]的区间内，且每次出站时SOC应大于30%。 假设所有巴士起始的SOC时是100%</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 3.8 Charged energy is not less than energy demand for each bus within the optimization target time period</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    bcMdl += SoC[<span class="number">0</span>][m] == <span class="number">260</span> <span class="comment">#起始SOC假设为100%</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(L):</span><br><span class="line">        bcMdl += SoC[t][m] &gt;= <span class="number">0</span> <span class="comment"># &gt;0%</span></span><br><span class="line">    	<span class="keyword">if</span> t!= <span class="number">0</span>:</span><br><span class="line">        	bcMdl += SoC[t][m] == SoC[t<span class="number">-1</span>][m] - Conso[m][t] + delta * xsum(C[n] * P[t][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) <span class="comment">#t时刻的SOC由t-1时刻SOC减去耗电并加上充电得到</span></span><br><span class="line">        	bcMdl += SoC[t][m] &lt;= <span class="number">260</span> <span class="comment"># &lt; 100%</span></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">    <span class="keyword">for</span> t_exit <span class="keyword">in</span> Y[m]:</span><br><span class="line">        bcMdl += SoC[t_exit][m] &gt;= <span class="number">0.3</span>*<span class="number">260</span> <span class="comment">#出站时SOC &gt;30%</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>P与其他变量的关系：P在[B,D]从开始充电到结束充电的区间里都为1， P在不在站的时间段里为0</strong><br>$$<br>a. \  \sum_{n} P_{tmn} - P_{(t-1)mn} \leq B_{tm} \<br>b. \ \frac{(\sum_{n} P_{tmn} - P_{(t-1)mn}) + 1 }{2}\geq B_{tm} \<br> 当B_{tm}= 1时，我们需要P_{tmn} = 1, P_{(t-1)mn} = 0.\<br> 为此我们取a和b的交集，当B_{tm} = 1时， 1\leq\sum_{n} P_{tmn} - P_{(t-1)mn}\leq1\<br> 同理，当D_{tm}= 1时，我们需要P_{tmn} = 1, P_{(t+1)mn} = 0. 我们有类似的不等式取交集\<br> \sum_{n} P_{tmn} - P_{(t+1)mn} \leq D_{tm} \<br>\frac{(\sum_{n} P_{tmn} - P_{(t+1)mn}) + 1 }{2}\geq D_{tm} \<br>$$</p>
</li>
</ol>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.10 Relationship between charge end status and charge status of each time frame for each bus</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">      <span class="keyword">for</span> l <span class="keyword">in</span> range(len(X[m])):</span><br><span class="line">          bcMdl += xsum(P[X[m][l]][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) == B[X[m][l]][m][l]</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">      <span class="keyword">for</span> l <span class="keyword">in</span> range(len(X[m])):</span><br><span class="line">          <span class="keyword">for</span> t <span class="keyword">in</span> range(X[m][l]+<span class="number">1</span>,Y[m][l]):</span><br><span class="line">              bcMdl += xsum(P[t][n][m] - P[t<span class="number">-1</span>][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) &lt;= B[t][m][l]</span><br><span class="line">              bcMdl += xsum(P[t][n][m] - P[t<span class="number">-1</span>][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) + <span class="number">1</span> &gt;= <span class="number">2</span> * B[t][m][l]</span><br><span class="line">              </span><br><span class="line">  <span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">      <span class="keyword">for</span> l <span class="keyword">in</span> range(len(Y[m])):</span><br><span class="line">          bcMdl += xsum(P[Y[m][l]][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) == D[Y[m][l]][m][l]</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">      <span class="keyword">for</span> l <span class="keyword">in</span> range(len(X[m])):</span><br><span class="line">          <span class="keyword">for</span> t <span class="keyword">in</span> range(X[m][l], Y[m][l]<span class="number">-1</span>):</span><br><span class="line">              bcMdl += xsum(P[t][n][m] - P[t+<span class="number">1</span>][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) &lt;= D[t][m][l]</span><br><span class="line">              bcMdl += xsum(P[t][n][m] - P[t+<span class="number">1</span>][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) + <span class="number">1</span> &gt;= <span class="number">2</span> * D[t][m][l]</span><br><span class="line">              </span><br><span class="line">  <span class="keyword">for</span> t <span class="keyword">in</span> range(L):</span><br><span class="line">      <span class="keyword">for</span> m <span class="keyword">in</span> range(M):</span><br><span class="line">          Chargable = <span class="literal">False</span></span><br><span class="line">          <span class="keyword">for</span> l <span class="keyword">in</span> range(len(PRP[m])):</span><br><span class="line">              <span class="keyword">if</span> t <span class="keyword">in</span> PRP[m][l]:</span><br><span class="line">                  Chargable = <span class="literal">True</span></span><br><span class="line">                  <span class="keyword">break</span></span><br><span class="line">                  <span class="keyword">if</span> <span class="keyword">not</span> Chargable:</span><br><span class="line">                      bcMdl += xsum(P[t][n][m] <span class="keyword">for</span> n <span class="keyword">in</span> range(N)) == <span class="number">0</span> <span class="comment">#不在站时间段P=0</span></span><br></pre></td></tr></table></figure>



<h2 id="目标函数"><a href="#目标函数" class="headerlink" title="目标函数"></a>目标函数</h2><ul>
<li><p>充电电费：电费 * 充电时间 * 充电功率 * 充电状态(1或0)</p>
<p>$$<br>min(\delta \sum_{m} \sum_{n} \sum_{t} c_n P_{tmn}z_t)<br>$$</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bcMdl.objective = minimize(delta * xsum(Z[t] * C[n] * P[t][n][m]</span><br><span class="line">                           <span class="keyword">for</span> t <span class="keyword">in</span> range(L) <span class="keyword">for</span> n <span class="keyword">in</span> range(N) <span class="keyword">for</span> m <span class="keyword">in</span> range(M)))</span><br></pre></td></tr></table></figure>



<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>程序在多种情况的输入下进行了测试: </p>
<ul>
<li><p>从深圳巴士运营数据中抽取的从08：00到晚22：00的终点站在香梅北总站的18辆38路巴士，它们在停留在总站的短暂时间内可以充电。<strong>找到可行解返回的时间约1分钟内</strong></p>
</li>
<li><p>从深圳巴士充电数据抽取的从22：00到翌日07：00在香梅北充电的61辆巴士。它们仅进站一次停留很长的时间，希望能将它们的电充满。<strong>在输入需要加入额外的一行7：50-8:00 行驶距离163km的一行</strong>（刚好消耗约电池70%的电量，使巴士在22:00 到7:00间能把电充满）。人工添加输入数据是短暂的解决方法，后续可能更改模型区分两类车减少工作。<strong>找到可行解返回的时间约20分钟</strong></p>
<p><img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200828120241098.png" alt="image-20200828120241098"></p>
</li>
<li><p>复杂数据：前述的18辆日间巴士+61辆夜间巴士+ 6辆在夜间运营的人造数据巴士 共85辆巴士，从00：00至翌日08：00共32小时。 <strong>找到可行解返回的时间约1分钟50分钟</strong></p>
</li>
</ul>
<p><strong>输出数据：</strong>以下是85辆车复杂情况的输出结果节选</p>
<ul>
<li><p>SOC：每辆巴士在每个时间段含有的电量，单位为kWh。</p>
<p><img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200828121220206.png" alt="image-20200828121220206"></p>
</li>
<li><p>ChargeStatus：每辆巴士在每个时间段与选择与哪个功率的充电桩充电。</p>
<img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200828121426832.png" alt="image-20200828121426832" style="zoom:67%;" />



</li>
</ul>
<ul>
<li><p>ChargePlan：每辆车的充电起始时间，充电电量，和连接的充电桩功率</p>
<img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200828121539178.png" alt="image-20200828121539178" style="zoom:67%;" />

<img src="C:\Users\GTBA1C1N\AppData\Roaming\Typora\typora-user-images\image-20200828121600505.png" alt="image-20200828121600505" style="zoom:67%;" />

</li>
</ul>
<h2 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h2><ul>
<li>本地图形化界面或部署到云端/服务器上</li>
<li>商业求解器Cplex和Gurobi的license如何解决。Gurobi暂时可以用学术版。后续可以尝试使用开源但效果稍差的SICP</li>
</ul>
<ul>
<li>分析并比较解，尤其是解的用电成本。使用charge_fee_cal.py即可导出结果</li>
<li>针对夜晚只充一次的巴士还需要手工在数据里添加一行，后续可以改模型简化此步</li>
<li>为了加速qiujiegqiujieguuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu输出的P给的对应的是1个功率的充电桩，</li>
</ul>

  </div>

  <div>
    <a href = "https://github.com/GuangyiT/guangyit.github.io/edit/myblog/source/_posts/MIP模型 最终版.md" target = "_blank">编辑</a>
  </div>

</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/projects_url">项目</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%B5%E5%8A%A8%E6%B1%BD%E8%BD%A6%E5%85%A8%E6%97%A5%E5%85%85%E7%94%B5%E6%9C%80%E4%BC%98%E5%8C%96%E7%9A%84MIP%E5%BB%BA%E6%A8%A1"><span class="toc-number">1.</span> <span class="toc-text">电动汽车全日充电最优化的MIP建模</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B8%E5%85%B3%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">时间相关变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%85%E7%94%B5%E6%A1%A9%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.</span> <span class="toc-text">充电桩变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%B4%E5%A3%AB%E5%8F%98%E9%87%8F"><span class="toc-number">3.3.</span> <span class="toc-text">巴士变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B3%E7%AD%96%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">决策变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">约束条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">目标函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C"><span class="toc-number">6.</span> <span class="toc-text">结果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5"><span class="toc-number">7.</span> <span class="toc-text">下一步</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&text=电动汽车充电最优化的MIP模型"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&is_video=false&description=电动汽车充电最优化的MIP模型"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=电动汽车充电最优化的MIP模型&body=Check out this article: https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&title=电动汽车充电最优化的MIP模型"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&name=电动汽车充电最优化的MIP模型&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://github.com/GuangyiT/guangyit.github.io/2020/09/06/MIP%E6%A8%A1%E5%9E%8B%20%E6%9C%80%E7%BB%88%E7%89%88/&t=电动汽车充电最优化的MIP模型"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2020
    Guangyi TANG
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/projects_url">项目</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
